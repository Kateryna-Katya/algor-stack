{"version":3,"file":"main-CERnwr_d.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n    // --- 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (Lucide) ---\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // --- 2. МОБИЛЬНОЕ МЕНЮ ---\n    const burger = document.querySelector('.header__burger');\n    const nav = document.querySelector('.header__nav');\n    const navLinks = document.querySelectorAll('.nav__link');\n\n    if (burger && nav) {\n        burger.addEventListener('click', () => {\n            nav.classList.toggle('is-active');\n            burger.classList.toggle('is-active');\n            document.body.classList.toggle('no-scroll'); // Блокируем скролл фона\n            \n            // Анимация иконки бургера\n            const spans = burger.querySelectorAll('span');\n            if (nav.classList.contains('is-active')) {\n                spans[0].style.transform = 'rotate(45deg) translate(5px, 5px)';\n                spans[1].style.opacity = '0';\n                spans[2].style.transform = 'rotate(-45deg) translate(5px, -5px)';\n            } else {\n                spans[0].style.transform = 'none';\n                spans[1].style.opacity = '1';\n                spans[2].style.transform = 'none';\n            }\n        });\n\n        // Закрываем меню при клике на пункт\n        navLinks.forEach(link => {\n            link.addEventListener('click', () => {\n                nav.classList.remove('is-active');\n                burger.classList.remove('is-active');\n                document.body.classList.remove('no-scroll');\n                \n                // Сброс иконки\n                const spans = burger.querySelectorAll('span');\n                spans[0].style.transform = 'none';\n                spans[1].style.opacity = '1';\n                spans[2].style.transform = 'none';\n            });\n        });\n    }\n\n    // --- 3. АВТО-ГОД В ФУТЕРЕ ---\n    const yearSpan = document.getElementById('year');\n    if (yearSpan) {\n        yearSpan.textContent = new Date().getFullYear();\n    }\n\n    // --- 4. HERO АНИМАЦИЯ (GSAP + SplitType) ---\n    if (typeof gsap !== 'undefined' && typeof SplitType !== 'undefined') {\n        const heroText = document.querySelector('#hero-text');\n        if (heroText) {\n            try {\n                const text = new SplitType('#hero-text', { types: 'words, chars' });\n                const tl = gsap.timeline();\n                \n                tl.from(text.chars, {\n                    opacity: 0,\n                    y: 50,\n                    duration: 0.8,\n                    stagger: 0.04,\n                    ease: \"back.out(1.7)\"\n                })\n                .from('.hero__desc', { opacity: 0, y: 20, duration: 0.5 }, \"-=0.4\")\n                .from('.hero__actions', { opacity: 0, y: 20, duration: 0.5 }, \"-=0.3\")\n                .from('.hero__visual', { opacity: 0, x: 50, duration: 1, ease: \"power2.out\" }, \"-=0.8\");\n            } catch (e) {\n                console.warn(\"GSAP animation error:\", e);\n            }\n        }\n    }\n\n    // --- 5. ФОРМА КОНТАКТОВ (Fix исчезновения) ---\n    const form = document.getElementById('contactForm');\n    const successMsg = document.getElementById('successMessage');\n\n    if (form && successMsg) {\n        // Капча\n        const captchaQ = document.getElementById('captchaQuestion');\n        const captchaInput = document.getElementById('captchaInput');\n        const captchaError = document.getElementById('captchaError');\n        \n        let num1 = Math.floor(Math.random() * 10) + 1;\n        let num2 = Math.floor(Math.random() * 10) + 1;\n        if (captchaQ) captchaQ.textContent = `${num1} + ${num2}`;\n\n        // Ввод только цифр для телефона\n        const phoneInput = document.getElementById('phone');\n        if (phoneInput) {\n            phoneInput.addEventListener('input', (e) => {\n                e.target.value = e.target.value.replace(/\\D/g, '');\n            });\n        }\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault(); // Главная защита от перезагрузки\n            \n            let isValid = true;\n            document.querySelectorAll('.error-msg').forEach(el => el.textContent = '');\n\n            // Проверка телефона\n            if (phoneInput && phoneInput.value.length < 10) {\n                document.getElementById('phoneError').textContent = 'Минимум 10 цифр';\n                isValid = false;\n            }\n\n            // Проверка капчи\n            if (captchaInput) {\n                const sum = num1 + num2;\n                if (parseInt(captchaInput.value) !== sum) {\n                    if (captchaError) captchaError.textContent = 'Ошибка вычисления';\n                    isValid = false;\n                }\n            }\n\n            if (isValid) {\n                const btn = form.querySelector('button[type=\"submit\"]');\n                const originalText = btn.textContent;\n                btn.textContent = 'Отправка...';\n                btn.disabled = true;\n\n                // Имитация AJAX\n                setTimeout(() => {\n                    // 1. Скрываем форму\n                    form.style.display = 'none';\n                    \n                    // 2. Показываем сообщение\n                    successMsg.style.display = 'flex';\n                    successMsg.style.opacity = '0';\n                    successMsg.style.transform = 'translateY(10px)';\n                    successMsg.style.transition = 'all 0.5s ease';\n\n                    // 3. Запускаем плавное появление\n                    requestAnimationFrame(() => {\n                        successMsg.style.opacity = '1';\n                        successMsg.style.transform = 'translateY(0)';\n                    });\n\n                }, 1000);\n            }\n            \n            return false;\n        });\n    }\n\n    // --- 6. COOKIE POPUP ---\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptBtn = document.getElementById('acceptCookie');\n\n    if (cookiePopup && acceptBtn) {\n        if (!localStorage.getItem('cookiesAccepted')) {\n            setTimeout(() => {\n                cookiePopup.style.display = 'block';\n                // Простая анимация на чистом JS\n                cookiePopup.style.opacity = '0';\n                cookiePopup.style.transform = 'translateY(50px)';\n                cookiePopup.style.transition = 'all 0.5s ease';\n                \n                requestAnimationFrame(() => {\n                    cookiePopup.style.opacity = '1';\n                    cookiePopup.style.transform = 'translateY(0)';\n                });\n            }, 2500);\n        }\n\n        acceptBtn.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            \n            cookiePopup.style.opacity = '0';\n            cookiePopup.style.transform = 'translateY(50px)';\n            \n            setTimeout(() => {\n                cookiePopup.style.display = 'none';\n            }, 500);\n        });\n    }\n\n    // --- 7. SCROLL REVEAL (Появление блоков) ---\n    const observerOptions = {\n        threshold: 0.1,\n        rootMargin: \"0px 0px -50px 0px\"\n    };\n\n    const observer = new IntersectionObserver((entries) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                entry.target.style.opacity = '1';\n                entry.target.style.transform = 'translateY(0)';\n                observer.unobserve(entry.target);\n            }\n        });\n    }, observerOptions);\n\n    document.querySelectorAll('.section-title, .feature-card, .blog-card, .innovations__wrapper').forEach(el => {\n        el.style.opacity = '0';\n        el.style.transform = 'translateY(30px)';\n        el.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';\n        observer.observe(el);\n    });\n});"],"names":["burger","nav","navLinks","spans","link","yearSpan","text","e","form","successMsg","captchaQ","captchaInput","captchaError","num1","num2","phoneInput","isValid","el","sum","btn","cookiePopup","acceptBtn","observerOptions","observer","entries","entry"],"mappings":"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"}